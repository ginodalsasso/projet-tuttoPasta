{% extends 'base.html.twig' %}

{% block title %}Tutto Pasta{% endblock %}

{% block page_title %}
    {{administrations[0].title}}
    <div class="h1_content">
        {{administrations[0].textContent}}
    </div>
        
    <a href="#services_section"><button class="full_button_white">Accéder aux services</button></a>
{% endblock %}

{% block body %}
    {{ parent() }}{# Inclus le "page_title" ainsi que les propriétés du header #}
    <main class="wrapper_home">
        <section id="introduction_section">
            <img src="{{administrations[18].title}}" alt="{{administrations[18].textContent}}">
            <div class="introduction_content">
                <div><span class="stickers_pink">Le studio</span> </div>
                <h2>{{administrations[1].title|raw}}</h2> 
                {{administrations[1].textContent|raw}}
                <a href="{{ path('app_appointment') }}"><button class="full_button_black_cta">Prendre rdv</button></a>
            </div>
        </section>


        {# --------------------------------- Section guide client ----------------------------------#}
        <section id="guide_section">
            <h2 class="guide_h2">{{administrations[2].title|raw}}</h2>
            <div class="guide_content">
                {% for administration in administrations|slice(3, 4) %}
                    <div class="badges_guide">
                        <i class="fa-sharp fa-solid fa-arrow-right"></i> 
                        {{ administration.title|raw }}
                    </div>
                {% endfor %}
            </div>
            <div class="expertise_section">
                <h2  class="guide_h2">{{ administrations[7].title|raw }}</h2>
                <div class="expertise_cards">
                    {% for administration in administrations|slice(8, 3) %}
                        <div class="expertise_card">
                            {{ administration.title|raw }}
                            {{ administration.textContent|raw }}
                        </div>
                    {% endfor %}
                </div>
            </div>
            <div class="guide_calltoaction">
                <h2>{{ administrations[11].title|raw }}</h2>
                <a href="{{ path('app_appointment') }}"><button class="full_button_white_cta">Prendre rdv</button></a>
            </div>
        </section>

        {# --------------------------------- Section projects ----------------------------------#}
        <section id="projects_section">
            <div class="projects_h2">
                <span class="stickers_green">Projets</span>
                {{administrations[12].title|raw}}
            </div>
            <ul class="project_list">
                <hr>
                {% for project in projects[:3] %}
                <li class="animated_li">
                    <a class="project_container" href="{{ path('app_project', { 'slug': project.slug }) }}">
                        <div class="project_content">
                            <p>{{ project.projectDate|date("Y") }}</p>
                            <h3>{{ project.projectName }}</h3>
                            {% for category in project.categories %}
                                <p class="project_content_category">
                                    <i class="fa-sharp fa-solid fa-arrow-right" style="color: #000000;"></i>
                                    {{ category.categoryName }}
                                </p>
                            {% endfor %}
                        </div>
                        {% set firstImage = project.images|first %}
                        {% if firstImage %}
                            <img class="projects_list_img" src="{{ asset('img/projects/' ~ firstImage.image) }}" alt="{{ firstImage.alt }}" loading="lazy">
                        {% endif %}
                    </a>
                </li>
                <hr>
            {% endfor %}
            </ul>
            <div class="btn_center_projects">
                <a href="{{ path('app_projectList') }}"><button class="full_button_black">Voir plus de projets</button></a>
            </div>
        </section>


        {# --------------------------------- Section Services ----------------------------------#}
        <section id="services_section">
            <article class="services_content">
                <div class="services_h2">                    
                    <span class="stickers_blue">Services</span>
                    {{administrations[13].title|raw}}
                </div>
                <div class="service">
                    <div class="services_categories">
                        <h3>
                            <i class="fa-sharp fa-solid fa-arrow-right"></i> {{categories[0].categoryName|raw}} <br>
                        </h3>
                        {{categories[0].categoryContent|raw}}
                    </div>
                    {# les 2 services de la catégorie identité visuelle #}
                    {% for service in services|slice(0, 2) %}
                        <div class="service_cards">
                            <div class="service_cards_header">
                                <h4>{{ service.serviceName|raw }}</h4>
                                <p>à partir de <br></p>
                                <span class="stickers_price">{{ service.servicePrice|raw }}€ ttc</span>
                            </div>
                            {{ service.serviceContent|raw }}
                            <div class="btn_center_services_cards">
                                <a href="{{ path('app_appointment') }}"><button class="service_button">Je choisis ce pack</button></a>
                            </div>
                        </div>
                    {% endfor %}

                    <div class="services_categories">
                        <h3>
                            <i class="fa-sharp fa-solid fa-arrow-right"></i> {{categories[1].categoryName|raw}} <br>
                        </h3>
                        {{categories[1].categoryContent|raw}}
                    </div>
                    {# les 2 autres services de la catégorie site internet #}
                    {% for service in services|slice(2, 2) %}
                        <div class="service_cards">
                            <div class="service_cards_header">
                                <h4>{{ service.serviceName|raw }}</h4>
                                <p>à partir de <br></p>
                                <span class="stickers_price">{{ service.servicePrice|raw }}€ ttc</span>
                            </div>
                            {{ service.serviceContent|raw }}
                            <div class="btn_center_services_cards">
                                <a href="{{ path('app_appointment') }}"><button class="service_button">Je choisis ce pack</button></a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
                <hr class="services_separator">

                {# --------------------------------- Section offre de prix ----------------------------------#}
                <div class="services_categories">
                    <h3>
                        <i class="fa-sharp fa-solid fa-arrow-right"></i> {{categories[2].categoryName|raw}} <br>
                    </h3>
                    <p>{{categories[2].categoryContent|raw}}</p>
                    <div class="services_steps">
                        <p id="step1">01. Choisis ton pack identité visuelle*</p>
                        <p id="step2">02. Choisis ton pack site internet*</p>
                        <p id="step3">03. Choisis tes prestations supplémentaires*</p>
                    </div>

                    {{ form_start(offerPriceForm) }}
                        <div id="identite_service">
                            <div class="service_form_categoryContent">
                                <div id="identite_visuelle">
                                    {{ form_row(offerPriceForm.services_identite_visuelle, {'label': false}) }}
                                    <div class="btn_offerPrice">
                                        <span class="full_button_blue" id="next_to_site_services">Continuer</span>
                                    </div>
                                </div>
                                {{categories[1].categoryContent|raw}}
                            </div>
                        </div>

                        <div id="site_services">
                            <div class="service_form_categoryContent">
                                <div id="site_internet">
                                    {{ form_row(offerPriceForm.services_site_internet, {'label': false}) }}
                                    <div class="btn_offerPrice">
                                        <span class="full_button_black" id="back_to_identite_service">Revenir</span>
                                        <span class="full_button_blue" id="next_to_presta_services">Continuer</span>
                                    </div>
                                </div>
                                {{categories[0].categoryContent|raw}}
                            </div>
                        </div>

                        <div id="presta_a_la_carte">
                            {{ form_row(offerPriceForm.services_presta_a_la_carte, {'label': false}) }}
                            <div class="btn_offerPrice">
                                <span class="full_button_black" id="back_to_site_services">Revenir</span>
                                <button class="full_button_blue" type="submit">Obtenir une offre de prix</button>
                            </div>
                        </div>
                    {{ form_end(offerPriceForm) }}
                </div>
            </article>
        </section>


        {# --------------------------------- Section FAQ ----------------------------------#}
        <section class="faq_section">
            <article class="faq_content">
                <div class="faq_h2">                    
                    <span class="stickers_green">FAQ</span>
                    {{administrations[19].title|raw}}
                </div>
                {% for administration in administrations|slice(20, 5) %}
                <details id="faq">
                    <summary>
                        <i class="fa-solid fa-arrow-right"></i> {{ administration.title|raw }}<br>
                    </summary>
                    {{ administration.textContent|raw }} <br>
                </details>
                <hr>
                {% endfor %}
            </article>
            <div class="guide_calltoaction">
                {{administrations[25].title|raw}}
                <a href="{{ path('app_appointment') }}"><button class="full_button_black_cta">Je prends contact</button></a>
            </div>
        </section>


{% endblock %}

{% block javascripts %}
    <script src="{{ asset('/js/home.js')}}"></script>
{% endblock %}
