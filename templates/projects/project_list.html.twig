{% extends 'base.html.twig' %}

{% block title %}Projets Tutto Pasta{% endblock %}

{% block page_title %} Projets {% endblock %}

{% block body %}
    {{ parent() }}{# Inclus le "page_title" ainsi que les propriétés du header #}
    <main class="wrapper">
        <ul class="project_list">
            {% for project in projects %}
                <li>
                    <a class="project_container" href="{{ path('app_project', { 'slug': project.slug }) }}">
                        <div class="project_content">
                            <p>{{ project.projectDate|date("Y") }}</p>
                            <p><img src="{{ asset('/img/arrow_right.svg')}}" height="18" alt="icône de flêche">{{ project.projectName }}</p>
                            {# Itération sur les catégories du projet #}
                                {% for category in project.categories %}
                                    <p><img src="{{ asset('/img/arrow_right.svg')}}" height="18" alt="icône de flêche">{{ category.categoryName }}</p>
                                {% endfor %}
                        </div>
                        {% set firstImage = project.images|first %}
                        {% if firstImage %}
                            <img class="projects_list_img" src="{{ asset('img/projects/' ~ firstImage.image) }}" alt="{{ firstImage.alt }}">
                        {% endif %}
                    </a>
                </li>
                <hr class="separator">
            {% endfor %}
        </ul>
    </main>
{% endblock %}
